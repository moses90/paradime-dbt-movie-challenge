# This file was auto-generated by dbtdocstr.
# Don't manually update.
# https://github.com/anelendata/dbt_docstring

{% docs movies %}
This model combines the data from the two sources to create a comprehensive mart of movies.
It only includes movies that are present in both sources: TMDB and OMDB.
It only includes movies that were released between 1920 and 2023.
{% enddocs %}

{% docs genre_by_year %}
This model is used to calculate the number of occurrences of each genre in a given year and net pofit associated with this genre.
To account for movies with multiple genres allocated to them, it uses number of genres per movie that year.
It excludes short films as this is a descriptor of the length and not genre.
TV specific genres (Game-Show, Talk-Show, Reality-TV, TV Movie, News) are excluded as well.
It includes movies from 1920 onwards and up to the previous full year.
{% enddocs %}

{% docs inflation %}
This model calculates the inflation multiplier for each year in the dataset. The inflation multiplier is the factor by which a value in USD in the given year should be multiplied to get the equivalent value in USD in 2023.
The inflation multiplier is calculated as the cumulative product of (1 + inflation rate) for each year from the given year to 2023.
For the years above 2023 the inflation multiplier is set to 1.0.
This dataset need to be updated yearly.
{% enddocs %}

{% docs stg_inflation %}
The source of this data is the Federal Reserve Bank of Minneapolis. https://www.minneapolisfed.org/about-us/monetary-policy/inflation-calculator/consumer-price-index-1913-
It orignaly contained the data for each year from 1913 to 2020, but is filtered here to start in 1920.
Since inflation rate is a rate of chage, it is not calculated for the first year in the dataset (1913).
{% enddocs %}

{% docs stg_tmdb_movies %}
Staging model for TMDB_MOVIES source table.
{% enddocs %}

{% docs stg_omdb_movies %}
Staging model for OMDB_MOVIES source table.
{% enddocs %}

{% docs int_tmdb_movies_proper %}
This model cleans up the TMDB_MOVIES table for further analytics.
It filters the results based on the following conditions:

- The TMDB_ID must exist in the OMDB_MOVIES
- The STATUS column must be 'Released'.
{% enddocs %}

{% docs int_omdb_ratings %}
This model extracts the ratings from the 3 known sources (Internet Movie Database, Rotten Tomatoes, Metacritic) from the JSON column RATINGS.
It then scales the ratings from different sources to a 0-1 scale.
{% enddocs %}

{% docs int_omdb_movies_proper %}
This model cleans up the OMDB_MOVIES table for further analytics.
It filters the results based on the following conditions:
- The OMDB_ID must exist in the TMDB_MOVIES
It deduplicates the results and adds ratings calculated in a separate model.
{% enddocs %}

{% docs int_movies_genres %}
This model is used to create a table that contains the unique genre-movie allocations from both the OMDB and TMDB datasets.
If a movie is categorized as a Comedy in one and as a Horror in the other, this will result in two rows here.
{% enddocs %}

{% docs pres_movie_profitability %}
Only 12k out of 520k movies in the movies model have both budget and revenue information. This model is filtered to include only those movies.
Although this is a small (3) precentage of the total, it is biased towards more popular movies with higher budget and revenue. Small budget movies are less likely to have revenue information.
It can still be deemed representative of the population of relevant, professional movies.
{% enddocs %}

{% docs pres_genres_last_20_y_growth_rate %}
This model groups the number of occurrences of each genre by decade to calculate the market share and the growth rate.
{% enddocs %}

{% docs pres_movie_profitability_histogram %}
This model is used to create a histogram of the PROFIT_NET of the movies. The PROFIT_NET is grouped into ranges and the number of movies in each range is calculated. 
The ranges are $5M increments from $0 to $250M and a range for movies with a PROFIT_NET less than $0 and a range for movies with a PROFIT_NET of $250M or more.
All calculations are done in 2023 USD.
{% enddocs %}

{% docs pres_genres_by_decade_scaled_values %}
This model groups the number of occurrences of each genre by decade.
Scaling factor is applied to the current decade to account for the fact that the decade is not yet complete.
This scaling factor is calculated as the number of years remaining in the current decade.
All the frequencies in the current decade are multiplied by that factor.
This assumes that the relative frequency of genres in the remaining years of the current decade will be the same as the relative frequency of genres in the years that have already passed.
{% enddocs %}

{% docs pres_superheroes_profits %}
Presentation model to show the net profit of modern superhero vs non superhero movies by year. Only movies with the PRODUCTION_COMPANIES not null are considered.
{% enddocs %}

