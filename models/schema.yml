# This file was auto-generated by dbtdocstr.
# Don't manually update.
# https://github.com/anelendata/dbt_docstring

version: 2
models:
  - name: movies
    description: '{{ doc("movies") }}'
    columns:
    - name: IMDB_ID
      description: the key from the IMDB database
      meta:
        dimension:
          type: string
        metrics:
          count:
            type: count
            label: Number of movies
    - name: TITLE
      description: the title of the movie
      meta:
        dimension:
          type: string
          hidden: false
    - name: RELEASE_YEAR
      description: the year the movie was released. The source is the first non-null
        value from the two sources OMDB and TMDB.
      meta:
        dimension:
          type: number
          time_intervals:
          - YEAR_NUM
    - name: RUNTIME
      description: the runtime of the movie in minutes. The source is the first non-null
        value from the two sources OMDB and TMDB.
      meta:
        dimension:
          hidden: true
        metrics:
          average_runtime:
            type: average
          median_runtime:
            type: median
    - name: BUDGET
      description: the budget of the movie. The source is TMDB as this is the only source
        that provides this information. This is in USD as pf the release year of the
        movie.
      meta:
        dimension:
          hidden: true
        metrics:
          total_budget:
            type: sum
          average_budget:
            type: average
    - name: REVENUE
      description: the revenue of the movie. The source is the first non-null value
        from the two sources OMDB (column BOX_OFFICE) and TMDB. This is in USD as of
        the release year of the movie.
      meta:
        dimension:
          hidden: true
        metrics:
          total_revenue:
            type: sum
          average_revenue:
            type: average
    - name: DIRECTOR
      description: the director of the movie. The source is OMDB as this is the only
        source that provides this information. Some movies have multiple directors.
        There is no further splitting of the names as majority of the movies have only
        one director. THe field is also susceptible to typing errors as the names are
        not standardized.
      meta:
        dimension:
          hidden: false
          type: string
    - name: BUDGET
      description: the budget of the movie. The source is TMDB as this is the only source
        that provides this information. This is in USD as of the release year of the
        movie and should not be added across years as the value of the dollar changes
        in time.
      meta:
        dimension:
          hidden: true
    - name: REVENUE
      description: the revenue of the movie. The source is the first non-null value
        from the two sources OMDB (column BOX_OFFICE) and TMDB. This is in USD as of
        the release year of the movie and should not be added across years as the value
        of the dollar changes in time.
      meta:
        dimension:
          hidden: true
    - name: BUDGET_ADJUSTED
      description: the budget of the movie adjusted for inflation expressed in 2023
        USD.
      meta:
        dimension:
          hidden: true
        metrics:
          total_budget_2023_USD:
            type: sum
            label: Total Budget (2023 USD)
            format: usd
            compact: millions
          average_budget_2023_USD:
            type: average
            label: Average Budget (2023 USD)
            format: usd
            compact: millions
    - name: REVENUE_ADJUSTED
      description: the revenue of the movie adjusted for inflation to 2023 USD.
      meta:
        dimension:
          hidden: true
        metrics:
          total_revenue_2023_USD:
            type: sum
            label: Total Revenue (2023 USD)
            format: usd
            compact: millions
          average_revenue_2023_USD:
            type: average
            label: Average Revenue (2023 USD)
            format: usd
            compact: millions
    - name: PROFIT_NET
      description: the profit of the movie. The difference between the adjusted revenue
        and the adjusted budget of the movie. Expressed in 2023 USD.
      meta:
        dimension:
          hidden: true
        metrics:
          total_profit:
            type: sum
            label: Total Net Profit (2023 USD)
            format: usd
            compact: millions
          average_profit:
            type: average
            label: Average Net Profit (2023 USD)
            format: usd
            compact: millions
    - name: HAS_PROFIT
      description: 1 if the movie is profitable, 0 otherwise
      meta:
        dimension:
          hidden: true
        metrics:
          count_profitable_movies:
            type: sum
            label: Number of profitable movies
    - name: HAS_LOSS
      description: 1 if the movie is loss-making, 0 otherwise
      meta:
        dimension:
          hidden: true
        metrics:
          count_loss_movies:
            type: sum
            label: Number of loss-making movies
    - name: PROFIT_2023_USD
      description: the profit of the movie. The difference between the adjusted revenue
        and the adjusted budget of the movie. Expressed in 2023 USD. Only for the profitable
        movies.
      meta:
        dimension:
          hidden: true
        metrics:
          total_profit_2023_USD:
            type: sum
            label: Total Profit (2023 USD)
            format: usd
            compact: millions
          total_profit_2023_USD_B:
            type: sum
            label: Total Profit (2023 USD Billions)
            format: usd
            compact: billions
          average_profit_2023_USD:
            type: average
            label: Average Profit (2023 USD)
            format: usd
            compact: millions
    - name: LOSS_2023_USD
      description: the loss of the movie. The difference between the adjusted revenue
        and the adjusted budget of the movie. Expressed in 2023 USD. Only for the loss-making
        movies.
      meta:
        dimension:
          hidden: true
        metrics:
          total_loss_2023_USD:
            type: sum
            label: Total Loss (2023 USD)
            format: usd
            compact: millions
          total_loss_2023_USD_B:
            type: sum
            label: Total Loss (2023 USD Billions)
            format: usd
            compact: billions
          average_loss_2023_USD:
            type: average
            label: Average Loss (2023 USD)
            format: usd
            compact: millions
    - name: IMDB_RATING
      description: the rating of the movie on IMDB. Scaled to a 0-1 scale.
      meta:
        dimension:
          hidden: true
        metrics:
          average_imdb_rating:
            type: average
    - name: ROTTEN_TOMATOES_RATING
      description: the rating of the movie on Rotten Tomatoes. Scaled to a 0-1 scale.
      meta:
        dimension:
          hidden: true
        metrics:
          average_rotten_tomatoes_rating:
            type: average
            label: Average Rotten Tomatoes Rating
    - name: METACRITIC_RATING
      description: the rating of the movie on Metacritic. Scaled to a 0-1 scale.
      meta:
        dimension:
          hidden: true
        metrics:
          average_metacritic_rating:
            type: average
            label: Average Metacritic Rating
    - name: NUMBER_OF_RATINGS_SOURCES
      description: the number of sources from which the ratings are available. This
        is used to calculate the COMBINED_RATING.
      meta:
        dimension:
          hidden: true
    - name: COMBINED_RATING
      description: the average of the IMDB, Rotten Tomatoes, and Metacritic ratings.
        Scaled to a 0-1 scale.
      meta:
        dimension:
          hidden: true
        metrics:
          average_combined_rating:
            type: average
            label: Average Combined Ratingo
            format: percent
    - name: IMDB_VOTES
      description: the number of votes received on IMDB.
      meta:
        dimension:
          hidden: false
        metrics:
          total_imdb_votes:
            type: sum
            label: Total IMDB Votes
    - name: PRODUCTION_COMPANIES
      description: the production companies of the movie. The source is the first non-null
        value from the two sources TMDB and OMDB. THe latter has the values not null
        for 0.5% of the movies, while the former for 45%. THere cam be more than one
        comnpany for a movie. In such case they are listed in a comma-separated list.
      meta:
        dimension:
          hidden: false
          type: string
    - name: GENRES
      description: A coma separated the list of all distinct genres allocated to the
        movie in either source.
      meta:
        dimension:
          hidden: false
          type: string
  - name: genre_by_year
    description: '{{ doc("genre_by_year") }}'
    columns:
    - name: GENRE
      description: the genre of the movie
      meta:
        dimension:
          type: string
    - name: RELEASE_YEAR
      description: the year the movie was released
      meta:
        dimension:
          type: number
          time_intervals:
          - YEAR_NUM
    - name: RELEASE_DECADE
      description: the decade the movie was released
      meta:
        dimension:
          time_intervals:
          - YEAR_NUM
    - name: GENRE_OCCURRENCES
      description: the number of occurences of the genre in the given year
      meta:
        dimension:
          hidden: true
        metrics:
          number_of_movies:
            type: sum
    - name: PERCENT_OF_MOVIES_THAT_YEAR
      description: the percentage of movies that year that are of the given genre
      meta:
        dimension:
          hidden: true
        metrics:
          percent_of_movies:
            type: sum
    - name: PROFIT_NET_ALLOCATED_TO_GENRE
      description: the profit net allocated to the genre. As a movie might have more
        than one genre, the profit net is divided by the number of genres allocated
        to the movie. Value in 2023 USD.
      meta:
        dimension:
          hidden: true
        metrics:
          profit_net_allocated_to_genre:
            type: sum
            format: usd
            compact: millions
  - name: inflation
    description: '{{ doc("inflation") }}'
    columns:
    - name: YEAR
    - name: INFLATION_RATE
      description: the Annual Percent Change of the CPI between the given year and the
        previous year. The difference between the price of a basket of good in the current
        year and the previous year divided by that price in the previous year.
    - name: INFLATION_MULTIPLIER
      description: the multiplier to apply to a value in USD in the given year to get
        the equivalent value in 2023 USD.
  - name: stg_inflation
    description: '{{ doc("stg_inflation") }}'
    columns:
    - name: YEAR
    - name: CPI
      description: the Annual Average of the consumer price index for the given year.
  - name: stg_tmdb_movies
    description: '{{ doc("stg_tmdb_movies") }}'
    columns:
    - name: tmdb_id
      description: 'Unique identifier for each movie. This unique identifier comes from
        the tmdb API: https://developer.themoviedb.org/'
      meta:
        dimension:
          type: number
    - name: title
      description: Title of the movie.
      meta:
        dimension:
          type: string
    - name: overview
      description: Brief description or summary of the movie.
      meta:
        dimension:
          type: string
    - name: tagline
      description: Catchphrase or memorable line associated with the movie.
      meta:
        dimension:
          type: string
    - name: spoken_languages
      description: List of languages spoken in the movie.
      meta:
        dimension:
          type: string
    - name: original_language
      description: Original language in which the movie was produced.
      meta:
        dimension:
          type: string
    - name: keywords
      description: Keywords associated with the movie.
      meta:
        dimension:
          type: string
    - name: status
      description: The status of the movie (e.g., Released, Rumored, Post Production,
        etc.).
      meta:
        dimension:
          type: string
    - name: video
      description: Indicates if the movie is suitable only for adult audiences.
      meta:
        dimension:
          type: boolean
    - name: vote_average
      description: Average vote or rating given by viewers.
      meta:
        dimension:
          type: number
    - name: budget
      description: Budget allocated for the movie.
      meta:
        dimension:
          type: number
    - name: revenue
      description: Total revenue generated by the movie.
      meta:
        dimension:
          type: number
    - name: runtime
      description: Duration of the movie in minutes.
      meta:
        dimension:
          type: number
    - name: release_date
      description: Date when the movie was released.
      meta:
        dimension:
          type: date
    - name: belongs_to_collection
      description: Collection to which the movie belongs, if applicable.
      meta:
        dimension:
          type: string
    - name: poster_path
      description: URL of the movie poster image.
      meta:
        dimension:
          type: string
    - name: backdrop_path
      description: URL of the backdrop image for the movie.
      meta:
        dimension:
          type: string
    - name: homepage
      description: Official homepage URL of the movie.
      meta:
        dimension:
          type: string
    - name: imdb_id
      description: IMDb ID of the movie.
      meta:
        dimension:
          type: string
    - name: original_title
      description: Original title of the movie.
      meta:
        dimension:
          type: string
    - name: vote_count
      description: Total count of votes received for the movie.
      meta:
        dimension:
          type: number
    - name: genre_names
      description: List of genre names the movie belongs to. Science-fiction is replaced
        with the abbreviation as Sci-Fi for consistency.
      meta:
        dimension:
          type: string
    - name: production_company_names
      description: List of production company names involved in the movie.
      meta:
        dimension:
          type: string
    - name: production_country_names
      description: List of production country names associated with the movie.
      meta:
        dimension:
          type: string
  - name: stg_omdb_movies
    description: '{{ doc("stg_omdb_movies") }}'
    columns:
    - name: imdb_id
      description: IMDb ID of the movie.
      meta:
        dimension:
          type: string
    - name: title
      description: Title of the movie.
      meta:
        dimension:
          type: string
    - name: director
      description: Director(s) of the movie.
      meta:
        dimension:
          type: string
    - name: writer
      description: Writer(s) of the movie.
      meta:
        dimension:
          type: string
    - name: actors
      description: Main actor(s) or cast of the movie.
      meta:
        dimension:
          type: string
    - name: genre
      description: Genre(s) of the movie.
      meta:
        dimension:
          type: string
    - name: language
      description: Language(s) spoken in the movie.
      meta:
        dimension:
          type: string
    - name: country
      description: Country or countries where the movie was produced.
      meta:
        dimension:
          type: string
    - name: type
      description: Type or category of the movie (e.g., movie, series, episode).
      meta:
        dimension:
          type: string
    - name: plot
      description: Summary or plot of the movie.
      meta:
        dimension:
          type: string
    - name: rated
      description: Rating assigned to the movie (e.g., PG-13, R, etc.).
      meta:
        dimension:
          type: string
    - name: ratings
      description: Various ratings received by the movie.
      meta:
        dimension:
          type: string
    - name: metacritic_rating
      description: Metascore rating of the movie. Normalized to a 0-1 scale.
      meta:
        dimension:
          type: number
    - name: imdb_rating
      description: IMDb rating of the movie. Normalized to a 0-1 scale.
      meta:
        dimension:
          type: number
    - name: imdb_votes
      description: Number of votes received on IMDb.
      meta:
        dimension:
          type: number
    - name: released_date
      description: Date when the movie was released.
      meta:
        dimension:
          type: date
    - name: release_year
      description: Year when the movie was released.
      meta:
        dimension:
          type: number
    - name: runtime
      description: Duration of the movie in minutes.
      meta:
        dimension:
          type: number
    - name: dvd
      description: DVD release date of the movie.
      meta:
        dimension:
          type: string
    - name: box_office
      description: Total box office revenue generated by the movie.
      meta:
        dimension:
          type: number
    - name: poster_path
      description: URL of the movie poster image.
      meta:
        dimension:
          type: string
    - name: production
      description: Production company or companies behind the movie.
      meta:
        dimension:
          type: string
    - name: website
      description: Official website of the movie.
      meta:
        dimension:
          type: string
    - name: awards
      description: Awards won or nominations received by the movie.
      meta:
        dimension:
          type: string
    - name: tmdb_id
      description: TMDB ID of the movie.
      meta:
        dimension:
          type: number
  - name: int_tmdb_movies_proper
    description: '{{ doc("int_tmdb_movies_proper") }}'
    columns:
    - name: TMDB_ID
      tests:
      - unique
      - not_null
  - name: int_omdb_ratings
    description: '{{ doc("int_omdb_ratings") }}'
  - name: int_omdb_movies_proper
    description: '{{ doc("int_omdb_movies_proper") }}'
    columns:
    - name: IMDB_ID
      tests:
      - unique
    - name: ROTTEN_TOMATOES_RATING
      description: the Rotten Tomatoes rating of the movie. It comes from unpacking
        the JSON ratings column.
    - name: IMDB_RATING
      description: the IMDB rating of the movie. If not present in the source IMDB_RATING
        column, it comes from unpacking the JSON ratings column.
    - name: METACRITIC_RATING
      description: the IMDB rating of the movie. If not present in the source METACRITIC_RATING
        column, it comes from unpacking the JSON ratings column.
  - name: int_movies_genres
    description: '{{ doc("int_movies_genres") }}'
  - name: pres_movie_profitability
    description: '{{ doc("pres_movie_profitability") }}'
    columns:
    - name: IMDB_ID
      description: the key from the IMDB database
      meta:
        dimension:
          type: string
        metrics:
          count:
            type: count
            label: Number of movies
    - name: TITLE
      description: the title of the movie
      meta:
        dimension:
          type: string
    - name: RELEASE_YEAR
      description: the year the movie was released. The source is the first non-null
        value from the two sources OMDB and TMDB.
      meta:
        dimension:
          type: number
          format: id
    - name: RUNTIME
      description: the runtime of the movie in minutes. The source is the first non-null
        value from the two sources OMDB and TMDB.
      meta:
        dimension:
          hidden: true
        metrics:
          average_runtime:
            type: average
          median_runtime:
            type: median
    - name: BUDGET
      description: the budget of the movie. The source is TMDB as this is the only source
        that provides this information. This is in USD as of the release year of the
        movie and should not be added across years as the value of the dollar changes
        in time.
      meta:
        dimension:
          hidden: true
    - name: REVENUE
      description: the revenue of the movie. The source is the first non-null value
        from the two sources OMDB (column BOX_OFFICE) and TMDB. This is in USD as of
        the release year of the movie and should not be added across years as the value
        of the dollar changes in time.
      meta:
        dimension:
          hidden: true
    - name: BUDGET_ADJUSTED
      description: the budget of the movie adjusted for inflation expressed in 2023
        USD.
      meta:
        dimension:
          hidden: true
        metrics:
          total_budget_2023_USD:
            type: sum
            label: Total Budget (2023 USD)
            format: usd
          average_budget_2023_USD:
            type: average
            label: Average Budget (2023 USD)
            format: usd
    - name: REVENUE_ADJUSTED
      description: the revenue of the movie adjusted for inflation to 2023 USD.
      meta:
        dimension:
          hidden: true
        metrics:
          total_revenue_2023_USD:
            type: sum
            label: Total Revenue (2023 USD)
            format: usd
          average_revenue_2023_USD:
            type: average
            label: Average Revenue (2023 USD)
            format: usd
    - name: PROFIT
      description: the profit of the movie. The difference between the adjusted revenue
        and the adjusted budget of the movie. Expressed in 2023 USD.
      meta:
        dimension:
          hidden: true
        metrics:
          total_profit:
            type: sum
            label: Total Profit (2023 USD)
            format: usd
          average_profit:
            type: average
            label: Average Profit (2023 USD)
            format: usd
          median_profit:
            type: median
            label: Median Profit (2023 USD)
            format: usd
  - name: pres_genres_last_20_y_growth_rate
    description: '{{ doc("pres_genres_last_20_y_growth_rate") }}'
    columns:
    - name: GENRE
      description: the genre of the movie
      meta:
        dimension:
          type: string
          colors:
            Comedy: '#ffeb3b'
            War: '#9e9e9e'
            Drama: '#673ab7'
            Western: '#8b4513'
            Animation: '#03a9f4'
            Musical: '#e91e63'
            Documentary: '#008080'
            TV Movie: '#607d8b'
            Thriller: '#cddc39'
            Romance: '#f06292'
            Music: '#ff9800'
            Horror: '#b71c1c'
            Crime: '#212121'
            Action: '#f44336'
            Adventure: '#4caf50'
            Biography: '#795548'
            Family: '#ffca28'
            Fantasy: '#9c27b0'
            History: '#3f51b5'
            Mystery: '#263238'
            Sci-Fi: '#00bcd4'
            Sport: '#8bc34a'
    - name: GENRE_OCCURRENCES_PREVIOUS_10_YEARS
      description: The number of occurences of the genre in the previous 10 years (2004-2013).
      meta:
        dimension:
          hidden: true
        metrics:
          number_of_movies_previous_10_years:
            type: sum
    - name: GENRE_OCCURRENCES_LAST_10_YEARS
      description: The number of occurences of the genre in the last 10 years (2014-2023).
      meta:
        dimension:
          hidden: true
        metrics:
          number_of_movies_last_10_years:
            type: sum
    - name: GROWTH_RATE
      description: The growth rate of the genre in the last 10 years (2014-2023) compared
        to the previous 10 years (2004-2013).
      meta:
        dimension:
          hidden: true
        metrics:
          growth_rate:
            type: sum
            format: percent
    - name: PERCENTAGE_LAST_10_YEARS
      description: The percentage of movies in the last 10 years (2014-2023) that are
        of the given genre.
      meta:
        dimension:
          hidden: true
        metrics:
          percent_of_movies_last_10_years:
            type: sum
            format: percent
  - name: pres_movie_profitability_histogram
    description: '{{ doc("pres_movie_profitability_histogram") }}'
    columns:
    - name: PROFIT_RANGE
      description: The range of the PROFIT_NET of the movie. Expressed in 2023 USD.
      meta:
        dimension:
          type: string
    - name: FREQUENCY
      description: The number of movies in the PROFIT_NET range
      meta:
        metrics:
          number_of_movies:
            type: sum
            label: Number of movies
    - name: SORTING_ORDER
      description: The sorting order of the PROFIT_NET range
      meta:
        dimension:
          type: number
          format: id
  - name: pres_genres_by_decade_scaled_values
    description: '{{ doc("pres_genres_by_decade_scaled_values") }}'
    columns:
    - name: GENRE
      description: the genre of the movie
      meta:
        dimension:
          type: string
          colors:
            Comedy: '#ffeb3b'
            War: '#9e9e9e'
            Drama: '#673ab7'
            Western: '#8b4513'
            Animation: '#03a9f4'
            Musical: '#e91e63'
            Documentary: '#008080'
            TV Movie: '#607d8b'
            Thriller: '#cddc39'
            Romance: '#f06292'
            Music: '#ff9800'
            Horror: '#b71c1c'
            Crime: '#212121'
            Action: '#f44336'
            Adventure: '#4caf50'
            Biography: '#795548'
            Family: '#ffca28'
            Fantasy: '#9c27b0'
            History: '#3f51b5'
            Mystery: '#263238'
            Sci-Fi: '#00bcd4'
            Sport: '#8bc34a'
    - name: RELEASE_DECADE
      description: the decade the movie was released
      meta:
        dimension:
          type: string
    - name: SCALED_GENRE_OCCURRENCES
      description: The number of occurences of the genre in the given decade divided
        by the average number of genres per movie that year. Scaled for the current
        (unifnished) decade to extrapolate the number of occurrences for the full decade.
      meta:
        dimension:
          hidden: true
        metrics:
          number_of_movies:
            type: sum
    - name: PERCENTAGE_SCALED_GENRE_OCCURRENCES
      description: The percentage of movies that decade that are of the given genre.
        Scaled for the current (unifnished) decade to extrapolate the number of occurrences
        for the full decade.
      meta:
        dimension:
          hidden: true
        metrics:
          percent_of_movies:
            type: sum
            format: percent
  - name: pres_superheroes_profits
    description: '{{ doc("pres_superheroes_profits") }}'
    columns:
    - name: IS_SUPERHERO
      description: a boolean indicating if the movie is a superhero movie. This is determined
        if the movie was produced by Marvel Studios or DC Comics.
      meta:
        dimension:
          type: boolean
    - name: PROFIT_NET
      description: the profit of the movie. The difference between the adjusted revenue
        and the adjusted budget of the movie. Expressed in 2023 USD.
      meta:
        dimension:
          hidden: true
        metrics:
          total_profit:
            type: sum
            label: Total Net Profit (2023 USD)
            format: usd
            compact: millions
    - name: RELEASE_YEAR
      description: the year the movie was released
      meta:
        dimension:
          type: number
          format: id
    - name: NUMBER_OF_MOVIES
      description: the number of released movies
      meta:
        dimension:
          hidden: true
        metrics:
          number_of_movies:
            type: sum
            label: Number of Movies
    - name: REVENUE
      description: the revenue of the movie. Expressed in 2023 USD.
      meta:
        dimension:
          hidden: true
        metrics:
          total_revenue:
            type: sum
            label: Total Revenue (2023 USD)
            format: usd
            compact: millions

