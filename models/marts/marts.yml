version: 2
models:
  - name: popular_people
    columns:
      - name: gender
        description: Gender of the person.
        meta:
          dimension:
            type: number
      - name: known_for_department
        description: Department for which the person is known for.
        meta:
          dimension:
            type: string
      - name: name
        description: Name of the person.
        meta:
          dimension:
            type: string
      - name: popularity
        description: Popularity score of the person.
        meta:
          dimension:
            type: number
  - name: popular_movies
    columns:
      - name: id
        description: ""
        meta:
          dimension:
            type: number
      - name: popularity
        description: ""
        meta:
          dimension:
            type: number
      - name: release_date
        description: ""
        meta:
          dimension:
            type: string
      - name: title
        description: ""
        meta:
          dimension:
            type: string
      - name: vote_average
        description: ""
        meta:
          dimension:
            type: number
      - name: vote_count
        description: ""
        meta:
          dimension:
            type: number
  - name: int_movies_enriched
    meta:
      joins:
        - join: int_movie_actors
          sql_on: ${int_movie_actors.imdb_id} = ${int_movies_enriched.imdb_id}
        - join: int_movie_genres
          sql_on: ${int_movie_genres.imdb_id} = ${int_movies_enriched.imdb_id}
        - join: int_movie_keywords
          sql_on: ${int_movie_keywords.imdb_id} = ${int_movies_enriched.imdb_id}
        - join: int_movie_directors
          sql_on: ${int_movie_directors.imdb_id} = ${int_movies_enriched.imdb_id}
        - join: popular_movies
          sql_on: ${popular_movies.id} = ${int_movies_enriched.tmdb_id}
    columns:
      - name: tmdb_id
        description: ""
        meta:
          dimension:
            type: number
      - name: title
        description: ""
        meta:
          dimension:
            type: string
      - name: release_date
        description: ""
        meta:
          dimension:
            type: date
      - name: overview
        description: ""
        meta:
          dimension:
            type: string
      - name: tagline
        description: ""
        meta:
          dimension:
            type: string
      - name: keywords
        description: ""
        meta:
          dimension:
            type: string
      - name: genre_names
        description: ""
        meta:
          dimension:
            type: string
      - name: runtime
        description: ""
        meta:
          dimension:
            type: number
      - name: vote_average
        description: ""
        meta:
          dimension:
            type: number
          metrics:
            average_tmdb_rating:
              type: average
      - name: vote_count
        description: ""
        meta:
          dimension:
            type: number
      - name: revenue
        description: ""
        meta:
          dimension:
            type: number
      - name: budget
        description: ""
        meta:
          dimension:
            type: number
      - name: director
        description: ""
        meta:
          dimension:
            type: string
      - name: writer
        description: ""
        meta:
          dimension:
            type: string
      - name: actors
        description: ""
        meta:
          dimension:
            type: string
      - name: awards
        description: ""
        meta:
          dimension:
            type: string
      - name: production
        description: ""
        meta:
          dimension:
            type: string
      - name: dvd
        description: ""
        meta:
          dimension:
            type: string
      - name: rated
        description: ""
        meta:
          dimension:
            type: string
      - name: metascore
        description: ""
        meta:
          dimension:
            type: number
      - name: imdb_rating
        description: ""
        meta:
          dimension:
            type: number
          metrics:
            average_imdb_rating:
              type: average
      - name: imdb_votes
        description: ""
        meta:
          dimension:
            type: number
      - name: box_office
        description: ""
        meta:
          dimension:
            type: number
      - name: language
        description: ""
        meta:
          dimension:
            type: string
      - name: country
        description: ""
        meta:
          dimension:
            type: string
      - name: type
        description: ""
        meta:
          dimension:
            type: string
      - name: plot
        description: ""
        meta:
          dimension:
            type: string
      - name: released_date
        description: ""
        meta:
          dimension:
            type: date
      - name: release_year
        description: ""
        meta:
          dimension:
            type: number
      - name: poster
        description: ""
        meta:
          dimension:
            type: string
      - name: imdb_id
        description: ""
        meta:
          dimension:
            type: string
          metrics:
            movie_count:
              type: count_distinct
      - name: original_title
        description: ""
        meta:
          dimension:
            type: string
      - name: original_language
        description: ""
        meta:
          dimension:
            type: string
      - name: status
        description: ""
        meta:
          dimension:
            type: string
      - name: video
        description: ""
        meta:
          dimension:
            type: boolean
      - name: genre
        description: ""
        meta:
          dimension:
            type: string
exposures:
  - name: movie_dashboard_tables
    description: Tables used in the Movie Dashboard
    depends_on:
      - ref('popular_people')
      - ref('popular_movies')
      - ref('int_movies_enriched')
      - ref('int_movie_keywords')
      - ref('int_movie_genres')
      - ref('int_movie_directors')
      - ref('int_movie_actors')
    owner:
      name: Rasmus
      email: raso@lunar.app
    type: dashboard
    label: "Movie Challenge Lightdash Dashboards!"
